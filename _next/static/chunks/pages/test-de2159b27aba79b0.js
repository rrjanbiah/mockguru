(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{5118:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(7876),l=s(4232),i=s(9099),r=s(1367),a=s(75),o=s(1928),c=s(953),u=s(5306);function d(e){let{question:t,currentQuestion:s=0,totalQuestions:i=1,onAnswer:d}=e,[m,h]=(0,l.useState)([]),g=e=>{let s=m;h(s=t.isMultipleChoice?m.includes(e)?m.filter(t=>t!==e):[...m,e]:[e]),d&&d(s)};return(0,n.jsxs)("div",{className:"p-4 border rounded-md shadow-sm",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("div",{className:"flex justify-between items-center",children:(0,n.jsxs)("span",{className:"text-sm font-medium",children:["Question ",s+1," of ",i]})}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,n.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat((s+1)/i*100,"%")}})})]}),(0,n.jsx)("h2",{className:"font-medium mb-4",children:(0,n.jsx)(r.oz,{rehypePlugins:[a.A],remarkPlugins:[o.A,c.A,u.A],children:t.question.replace(/\\n/g,"\n")})}),(0,n.jsx)("ul",{className:"list-none",children:t.options.map((e,l)=>(0,n.jsx)("li",{className:"mb-4 p-2 rounded-md hover:bg-gray-200 cursor-pointer transition-colors",children:(0,n.jsxs)("label",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:t.isMultipleChoice?"checkbox":"radio",name:"question-".concat(s),value:e,checked:m.includes(e),onChange:()=>g(e)}),(0,n.jsx)(r.oz,{rehypePlugins:[a.A],remarkPlugins:[o.A,c.A,u.A],children:"".concat(String.fromCharCode(65+l),". ").concat(e.replace(/\\n/g,"\n"))})]})},l))})]})}function m(e){let{duration:t,onTimerEnd:s}=e,[i,r]=(0,l.useState)(60*t);return(0,l.useEffect)(()=>{let e=setInterval(()=>{r(t=>t<=1?(clearInterval(e),s(),0):t-1)},1e3);return()=>clearInterval(e)},[t,s]),(0,n.jsxs)("div",{className:"p-4 bg-gray-100 text-center font-bold",children:["Time Left: ",(e=>{let t=Math.floor(e/60),s=e%60;return"".concat(t,":").concat(s<10?"0":"").concat(s)})(i)]})}function h(){let e=(0,i.useRouter)(),[t,s]=(0,l.useState)([]),[r,a]=(0,l.useState)(null),[o,c]=(0,l.useState)(0),[u,h]=(0,l.useState)({});(0,l.useEffect)(()=>{let t=localStorage.getItem("testData");if(t){let e=JSON.parse(t);s(e.questions),a(e.config)}else alert("No test data found. Redirecting to home."),e.push("/")},[e]),(0,l.useEffect)(()=>{let e=localStorage.getItem("userAnswers");e&&h(JSON.parse(e))},[]);let g=(e,t)=>{let s={...u,[e]:t};h(s),localStorage.setItem("userAnswers",JSON.stringify(s))};return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(null==r?void 0:r.timer)&&(0,n.jsx)("div",{className:"sticky top-0 bg-white shadow-md z-10",children:(0,n.jsx)(m,{duration:r.timerDuration,onTimerEnd:()=>{localStorage.setItem("testResult",JSON.stringify({questions:t,userAnswers:u})),e.push("/result")}})}),(0,n.jsx)("div",{className:"flex-1 p-8",children:(()=>{if(!r||0===t.length)return null;let e=r.pagination,s=[];if("1/question"===e)s=[t[o]];else if("5/group"===e)s=t.slice(5*o,5*o+5);else if("10/group"===e)s=t.slice(10*o,10*o+10);else if("section-wise"===e){let e=Array.from(new Set(t.map(e=>e.section)));s=t.filter(t=>t.section===e[o])}return s.map((e,s)=>(0,n.jsx)(d,{question:e,currentQuestion:o+s,totalQuestions:t.length,onAnswer:e=>g(o+s,e)},s))})()}),(0,n.jsxs)("div",{className:"flex justify-between p-4",children:[(0,n.jsx)("button",{className:"px-4 py-2 bg-gray-300 rounded-md cursor-pointer",onClick:()=>{c(e=>Math.max(e-1,0))},disabled:0===o,children:"Previous"}),(0,n.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md cursor-pointer",onClick:()=>{let s=(null==r?void 0:r.pagination)==="1/question"&&o>=t.length-1,n=(null==r?void 0:r.pagination)==="5/group"&&o>=Math.ceil(t.length/5)-1||(null==r?void 0:r.pagination)==="10/group"&&o>=Math.ceil(t.length/10)-1,l=(null==r?void 0:r.pagination)==="section-wise"&&o>=new Set(t.map(e=>e.section)).size-1;s||n||l?(localStorage.setItem("testResult",JSON.stringify({questions:t,userAnswers:u})),e.push("/result")):c(e=>e+1)},children:"Next"})]})]})}s(6120)},6428:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){return s(5118)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[333,27,372,636,593,792],()=>t(6428)),_N_E=e.O()}]);